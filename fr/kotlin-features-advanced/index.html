<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/learning-kotlin/favicon.ico"><link rel="manifest" href="/learning-kotlin/manifest.webmanifest"><meta name="theme-color" content="#2176d6"><title>Fonctionnalités avancées de Kotlin | Apprendre Kotlin</title><meta name="description" content="Une formation d'introduction à Kotlin">
    <link rel="preload" href="/learning-kotlin/assets/style-89d875b0.css" as="style"><link rel="stylesheet" href="/learning-kotlin/assets/style-89d875b0.css">
    <link rel="modulepreload" href="/learning-kotlin/assets/app-853dba77.js"><link rel="modulepreload" href="/learning-kotlin/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/learning-kotlin/assets/index.html-a3b175f4.js"><link rel="modulepreload" href="/learning-kotlin/assets/index.html-cf1cb754.js"><link rel="prefetch" href="/learning-kotlin/assets/index.html-7f8c050f.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-e4fee572.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-2616f981.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-6cfd5a96.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-de4c1715.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-788ed5dc.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-133fa6a3.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-347c589b.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-4b9a6f16.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-788e52b5.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-4d46e86f.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-67a6867f.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-8dfb9744.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-16921ae2.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-32146963.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-09c3fd9e.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-022a2b28.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-9b9ad39f.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-3c46c687.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-143dbd37.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-86c76398.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-09e2af23.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-9f551fa8.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-dc07f01d.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-51261a1f.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-36bb31aa.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-2b2f70d0.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-f0bf4e27.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-5afba659.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-58afa97a.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-1cca3f09.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index.html-51f70675.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/404.html-87d54bd8.js" as="script"><link rel="prefetch" href="/learning-kotlin/assets/index-70769223.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/learning-kotlin/fr/" class=""><img class="logo" src="/learning-kotlin/logo_worldline.png" alt="Apprendre Kotlin"><span class="site-name can-hide">Apprendre Kotlin</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/learning-kotlin/en/kotlin-features-advanced/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/" class="router-link-active router-link-exact-active router-link-active" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Rechercher" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/learning-kotlin/en/kotlin-features-advanced/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/" class="router-link-active router-link-exact-active router-link-active" aria-label="Français"><!--[--><!--]--> Français <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/learning-kotlin/fr/presentation/" class="sidebar-item sidebar-heading" aria-label="Présentation de Kotlin"><!--[--><!--]--> Présentation de Kotlin <!--[--><!--]--></a><!----></li><li><a href="/learning-kotlin/fr/kotlin-features/" class="sidebar-item sidebar-heading" aria-label="Fonctionnalités du langage Kotlin (30min)"><!--[--><!--]--> Fonctionnalités du langage Kotlin (30min) <!--[--><!--]--></a><!----></li><li><a href="/learning-kotlin/fr/backend-development/" class="sidebar-item sidebar-heading" aria-label="Développement du backend (45 min)"><!--[--><!--]--> Développement du backend (45 min) <!--[--><!--]--></a><!----></li><li><a href="/learning-kotlin/fr/front-development/" class="sidebar-item sidebar-heading" aria-label="Développement frontend (25min)"><!--[--><!--]--> Développement frontend (25min) <!--[--><!--]--></a><!----></li><li><a href="/learning-kotlin/fr/other-technologies/" class="sidebar-item sidebar-heading" aria-label="Application multiplateforme et Fullstack Codelab (60min)"><!--[--><!--]--> Application multiplateforme et Fullstack Codelab (60min) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Fonctionnalités avancées de Kotlin"><!--[--><!--]--> Fonctionnalités avancées de Kotlin <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/#proprietes-deleguees" class="router-link-active router-link-exact-active sidebar-item" aria-label="Propriétés déléguées"><!--[--><!--]--> Propriétés déléguées <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/#concurrence-et-coroutines" class="router-link-active router-link-exact-active sidebar-item" aria-label="Concurrence et coroutines"><!--[--><!--]--> Concurrence et coroutines <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/#litteral-de-fonction-avec-recepteur-et-constructeurs-de-type-securise" class="router-link-active router-link-exact-active sidebar-item" aria-label="Littéral de fonction avec récepteur et constructeurs de type sécurisé"><!--[--><!--]--> Littéral de fonction avec récepteur et constructeurs de type sécurisé <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/#exercises" class="router-link-active router-link-exact-active sidebar-item" aria-label="Exercises"><!--[--><!--]--> Exercises <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/learning-kotlin/fr/kotlin-features-advanced/#exercise-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Exercise 1"><!--[--><!--]--> Exercise 1 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/learning-kotlin/fr/workshops/" class="sidebar-item sidebar-heading" aria-label="Workshops"><!--[--><!--]--> Workshops <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="fonctionnalites-avancees-de-kotlin" tabindex="-1"><a class="header-anchor" href="#fonctionnalites-avancees-de-kotlin" aria-hidden="true">#</a> Fonctionnalités avancées de Kotlin</h1><h2 id="proprietes-deleguees" tabindex="-1"><a class="header-anchor" href="#proprietes-deleguees" aria-hidden="true">#</a> Propriétés déléguées</h2><p>Kotlin permet de déléguer le getter et le setter d&#39;une propriété à un autre objet, appelé délégué. C&#39;est une classe qui définit les méthodes <code>getValue</code> et <code>setValue</code>.</p><p>Kotlin fournit des délégués standard tels que des propriétés paresseuses et des propriétés observables.</p><p><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS43LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiaW1wb3J0IGtvdGxpbi5yYW5kb20uUmFuZG9tXG5pbXBvcnQga290bGluLnByb3BlcnRpZXMuRGVsZWdhdGVzXG5pbXBvcnQga290bGluLnJlZmxlY3QuS1Byb3BlcnR5XG5cbmNsYXNzIFN1cGVySGVybyB7XG4gICAgdmFsIHJhbmRvbVN0cmVuZ3RoOiBJbnQgYnkgbGF6eSB7XG4gICAgICAgIHByaW50bG4oXCJjb21wdXRlZFwiKVxuICAgICAgICBSYW5kb20ubmV4dEludCg1MCwgMTAwKVxuICAgIH1cbiAgICBcbiAgICB2YXIgcG93ZXJOYW1lOiBTdHJpbmcgYnkgRGVsZWdhdGVzLm9ic2VydmFibGUoXCJMYXNlclwiKSB7IF8sIG9sZCwgbmV3IC0+XG4gICAgICAgIHByaW50bG4oXCJDaGFuZ2VkIHBvd2VyIGZyb20gJG9sZCB0byAkbmV3XCIpXG4gICAgfVxuICAgIFxuICAgIHZhciBjb2RlTmFtZTogU3RyaW5nIGJ5IENhcGl0YWxpemVEZWxlZ2F0ZSgpXG59XG5cbmNsYXNzIENhcGl0YWxpemVEZWxlZ2F0ZXtcbiAgICB2YXIgdXBwZXJjYXNlZCA9IFwiXCJcbiAgICBvcGVyYXRvciBmdW4gZ2V0VmFsdWUodGhpc1JlZjogQW55PywgcHJvcGVydHk6IEtQcm9wZXJ0eTwqPik6IFN0cmluZyB7XG4gICAgICAgIHByaW50bG4oXCIkdGhpc1JlZiwgdGhhbmsgeW91IGZvciBkZWxlZ2F0aW5nICcke3Byb3BlcnR5Lm5hbWV9JyB0byBtZSFcIilcbiAgICAgICAgcmV0dXJuIHVwcGVyY2FzZWRcbiAgICB9XG5cbiAgICBvcGVyYXRvciBmdW4gc2V0VmFsdWUodGhpc1JlZjogQW55PywgcHJvcGVydHk6IEtQcm9wZXJ0eTwqPiwgdmFsdWU6IFN0cmluZykge1xuICAgICAgICBwcmludGxuKFwiJyR2YWx1ZScgaGFzIGJlZW4gYXNzaWduZWQgdG8gJyR7cHJvcGVydHkubmFtZX0nIGluICR0aGlzUmVmLlwiKVxuICAgICAgICB1cHBlcmNhc2VkID0gdmFsdWUudXBwZXJjYXNlKClcbiAgICB9XG59XG5cbmZ1biBtYWluKCkge1xuICAgdmFsIHN1cGVyTGFuZGVyID0gU3VwZXJIZXJvKClcbiAgIHByaW50bG4oc3VwZXJMYW5kZXIucmFuZG9tU3RyZW5ndGgpXG4gICBwcmludGxuKHN1cGVyTGFuZGVyLnJhbmRvbVN0cmVuZ3RoKVxuICAgXG4gICBzdXBlckxhbmRlci5wb3dlck5hbWUgPSBcInNwZWVkXCJcbiAgICBcbiAgICBzdXBlckxhbmRlci5jb2RlTmFtZSA9IFwic3VwZXJsYW5kZXJcIlxuICAgIHByaW50bG4oc3VwZXJMYW5kZXIuY29kZU5hbWUpXG59In0=" target="_blank" rel="noopener noreferrer">▶️ this code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> illustrates delegate properties.</p><h2 id="concurrence-et-coroutines" tabindex="-1"><a class="header-anchor" href="#concurrence-et-coroutines" aria-hidden="true">#</a> Concurrence et coroutines</h2><p>Kotlin fournit un modèle de concurrence de haut niveau appelé <em>Coroutines</em>. Le développeur peut déléguer la gestion des threads au compilateur et à l&#39;exécution et utiliser des constructions de niveau supérieur aux threads pour exprimer des opérations asynchrones.</p><p>Les coroutines de Kotlin tournent autour de ces concepts :</p><ul><li>Une coroutine est une instance de calcul suspendable. <ul><li>Kotlin a de nombreuses méthodes pour créer une coroutine telle que <code>launch</code>.</li></ul></li><li>Une coroutine doit exister dans une portée de coroutine. <ul><li>Par exemple, <code>runBlocking</code> crée une portée de coroutine dans laquelle les coroutines peuvent être lancées.</li></ul></li><li>Une coroutine peut exécuter des fonctions de suspension qui peuvent suspendre la coroutine mais ne bloquent pas le thread. <ul><li>Par exemple : le <code>delay</code> suspend la coroutine mais ne bloque pas le thread sur lequel elle s&#39;exécute.</li><li>Les fonctions de suspension sont des opérations qui peuvent prendre du temps telles que les requêtes http et les appels au système de fichiers.</li></ul></li><li>Le qualificateur <code>suspend</code> définit une fonction de suspension. Il s&#39;exécute dans une coroutine et peut appeler d&#39;autres fonctions de suspension.</li><li><code>Flow</code> permet de générer une liste de valeurs asynchrones.</li><li><code>Deferred</code> et <code>Channel</code> transfèrent respectivement une valeur unique et un flux de valeurs entre coroutines.</li></ul><p><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS43LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiaW1wb3J0IGtvdGxpbnguY29yb3V0aW5lcy4qXG5cbnN1c3BlbmQgZnVuIHJ1blNvbWV0aGluZygpIHtcbiAgICBwcmludGxuKFwic3RhcnRpbmdcIilcbiAgICBkZWxheSg1MDApXG4gICAgcHJpbnRsbihcImZpbmlzaGVkXCIpXG59XG5cbi8vIHJ1bkJsb2NraW5nIGNyZWF0ZXMgYSBDb3JvdXRpbmVTY29wZVxuZnVuIG1haW4oKSA9IHJ1bkJsb2NraW5nIHsgXG4gICAgLy8gbGF1bmNoIGEgbmV3IGNvcm91dGluZVxuICAgIGxhdW5jaCB7IFxuICAgICAgICAvLyBTdXNwZW5kIHRoZSBjb3JvdXRpbmUgYnV0IGRvZXMgbm90IGJsb2NrIHRoZSB0aHJlYWRcbiAgICAgICAgZGVsYXkoMTAwMEwpIFxuICAgICAgICBwcmludGxuKFwiV29ybGQhXCIpIFxuICAgIH1cbiAgICAgICAgXG4gICAgLy8gbWFpbiBjb3JvdXRpbmUgY29udGludWVzIHdoaWxlIGEgcHJldmlvdXMgb25lIGlzIGRlbGF5ZWRcbiAgICBwcmludGxuKFwiSGVsbG9cIikgXG4gICAgXG4gICAgdmFsIGpvYiA9IGxhdW5jaCB7XG4gICAgICAgIHJ1blNvbWV0aGluZygpXG4gICAgfVxuICAgIGpvYi5qb2luKClcbiAgICBydW5Tb21ldGhpbmcoKVxuICAgIFxufSJ9" target="_blank" rel="noopener noreferrer">▶️ this code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> show how to create a coroutine and suspend function and how to use them.</p><p><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS43LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiaW1wb3J0IGtvdGxpbnguY29yb3V0aW5lcy4qXG5pbXBvcnQga290bGlueC5jb3JvdXRpbmVzLmZsb3cuKlxuXG5mdW4gZ2VucmF0ZUFzeW5jUmFuZG9tVmFsdWVzKCk6IEZsb3c8SW50PiA9IGZsb3cgeyBcbiAgICBwcmludGxuKFwiRmxvdyBzdGFydGVkXCIpXG4gICAgZm9yIChpIGluIDAuLjEwKSB7XG4gICAgICAgIGRlbGF5KDEwMClcbiAgICAgICAgZW1pdChpKVxuICAgIH1cbn1cblxuLy8gVGhpcyBjYW4gY2F1c2UgcHJvYmxlbXMgaW4gbm90IGhhbmRsZWRlZCBjb3JyZWN0bHlcbmZ1biBnZW5yYXRlQXN5bmNSYW5kb21WYWx1ZXNJbmZpbml0ZSgpOiBGbG93PEludD4gPSBmbG93IHsgXG4gICAgcHJpbnRsbihcIkZsb3cgc3RhcnRlZFwiKVxuICAgIHZhciBpID0gMFxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGRlbGF5KDEwMClcbiAgICAgICAgZW1pdChpKVxuICAgICAgICBpICs9IDFcbiAgICB9XG59XG5cblxuXG4vLyBydW5CbG9ja2luZyBjcmVhdGVzIGEgQ29yb3V0aW5lU2NvcGVcbmZ1biBtYWluKCkgPSBydW5CbG9ja2luZzxVbml0PiB7XG4gICAgbGF1bmNoe1xuICAgICAgICBnZW5yYXRlQXN5bmNSYW5kb21WYWx1ZXMoKS5jb2xsZWN0IHtcbiAgICAgICBcdFx0cHJpbnRsbihcIjFzdCBmbG93OiBHb3QgJGl0XCIpXG4gICBcdFx0fVxuICAgIH1cbiAgIFxuICAgbGF1bmNoe1xuICAgICAgIHdpdGhUaW1lb3V0T3JOdWxsKDEwMDApe1xuICAgICAgICAgICBnZW5yYXRlQXN5bmNSYW5kb21WYWx1ZXMoKS5jb2xsZWN0IHtcbiAgICAgICAgICAgcHJpbnRsbihcIjJuZCBmbG93OiBHb3QgJGl0XCIpXG4gICAgICAgICB9XG4gICAgICAgfVxuICAgfVxufSJ9" target="_blank" rel="noopener noreferrer">▶️ this code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> illustrated flows.</p><p><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS43LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiaW1wb3J0IGtvdGxpbnguY29yb3V0aW5lcy4qXG5pbXBvcnQga290bGlueC5jb3JvdXRpbmVzLmNoYW5uZWxzLipcblxuZnVuIG1haW4oKSA9IHJ1bkJsb2NraW5nIHtcbiAgICBcbiAgICAvLyBhc3luYyBsYXVuY2hlcyBhIGNvcm91dGluZXMgYW5kIHJldHVybnMgYSBEZWZlcnJlZDxJbnQ+XG4gICAgdmFsIGRlZmVycmVkID0gYXN5bmMge1xuICAgICAgICA0MlxuICAgIH1cbiAgICBwcmludGxuKGRlZmVycmVkLmF3YWl0KCkpXG5cbiAgICB2YWwgY2hhbm5lbCA9IENoYW5uZWw8SW50PigpXG4gICAgbGF1bmNoIHtcbiAgICAgICAgLy8gdGhpcyBtaWdodCBiZSBoZWF2eSBDUFUtY29uc3VtaW5nIGNvbXB1dGF0aW9uIG9yIGFzeW5jIGxvZ2ljLCB3ZSdsbCBqdXN0IHNlbmQgZml2ZSBzcXVhcmVzXG4gICAgICAgIGZvciAoeCBpbiAxLi41KSBjaGFubmVsLnNlbmQoeCAqIHgpXG4gICAgfVxuICAgIC8vIGhlcmUgd2UgcHJpbnQgZml2ZSByZWNlaXZlZCBpbnRlZ2VyczpcbiAgICByZXBlYXQoNSkgeyBwcmludGxuKGNoYW5uZWwucmVjZWl2ZSgpKSB9XG4gICAgcHJpbnRsbihcIkRvbmUhXCIpXG5cbn0ifQ==" target="_blank" rel="noopener noreferrer">▶️ this code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> illustrates channels and deferred.</p><h2 id="litteral-de-fonction-avec-recepteur-et-constructeurs-de-type-securise" tabindex="-1"><a class="header-anchor" href="#litteral-de-fonction-avec-recepteur-et-constructeurs-de-type-securise" aria-hidden="true">#</a> Littéral de fonction avec récepteur et constructeurs de type sécurisé</h2><p>Comme vu précédemment, les extensions de fonctions ajoute du comportement à des classes existantes sans utiliser l&#39;héritage. À l&#39;intérieur de la définition de l&#39;extension de fonction, nous pouvons référencer implicitement le <strong>récepteur d&#39;extension</strong> (<code>this</code>).</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">fun</span> String<span class="token punctuation">.</span><span class="token function">countCharacters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> length <span class="token comment">// or this.length</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;hello&quot;</span></span><span class="token punctuation">.</span><span class="token function">countCharacters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// prints 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Nous pouvons définir cette extension avec une fonction littérale (ou lambda) au lieu d&#39;une fonction classique (déclarée avec <code>fun</code>).</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">var</span> extFn<span class="token operator">:</span> String<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Int
extFn <span class="token operator">=</span> <span class="token punctuation">{</span> length <span class="token punctuation">}</span> <span class="token comment">// extFn is a function literal</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;hello&quot;</span></span><span class="token punctuation">.</span><span class="token function">extFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// prints 5</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token function">extFn</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;hello&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// prints 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>extFn</code> <strong>est une fonction littérale</strong> (lambda) qui a accès au <strong>récepteur</strong> (<code>this</code>). C&#39;est pourquoi on l&#39;appelle une <strong>fonction littérale avec récepteur</strong>.</p><p><code>extFn(&quot;hello&quot;)</code> ou <code>extFn(&quot;hello&quot;)</code> appelle l&#39;extension comme prévu par les fonctions d&#39;extension.</p><p>Le type d&#39;une fonction littérale avec récepteur est <code>funName: ReceiverType.(arg1Type, arg2Type, etc.) -&gt; ReturnType</code> et est appelé avec <code>funName(receiverValue, arg1Value, etc.)</code> ou <code>receiverValue.funName(arg1Value, etc.) .)</code>. Cependant, ce n&#39;est pas l&#39;aspect le plus intéressant.</p><p>La partie importante est <code>extFn = { length }</code> qui peut être placée comme argument de fonction dans une fonction d&#39;ordre supérieur. Le développeur qui appelle la fonction d&#39;ordre supérieur doit définir <code>extFn</code>, qui à son tour a accès au récepteur. Cela permet un style de programmation assez intéressant.</p><p><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS43LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiaW1wb3J0IGtvdGxpbi5yYW5kb20uUmFuZG9tXG5cbmZ1biBtYWluKCkge1xuICAgIC8vIGZuIGlzIGEgZnVuY3Rpb24gbGl0ZXJhbHMgd2l0aCByZWNlaXZlciB0aGF0IHJldHVybnMgYW4gaW50XG4gICAgZnVuIGRvU29tZXRoaW5nV2l0aFJhbmRvbUludChmbjogSW50LigpIC0+IEludCk6IEludCB7XG4gICAgXHR2YWwgcmFuZG9tSW50ID0gUmFuZG9tLm5leHRJbnQoMzIsIDk4KVxuICAgIFx0cmV0dXJuIHJhbmRvbUludC5mbigpXG5cdH1cbiAgICAgXG4gICAgdmFsIHJlc3VsdCA9IGRvU29tZXRoaW5nV2l0aFJhbmRvbUludCB7XG4gICAgICAgIC8vIFRoZSByZWNlaXZlciBpcyBpbXBsaWNpdGx5IGF2YWlsYWJsZSBpbiB0aGlzIGxhbWJkYVxuICAgICAgICBwcmludGxuKFwidGhpczogJHRoaXNcIilcbiAgICAgICAgcHJpbnRsbihcInBsdXM6ICR7cGx1cygxMDApfVwiKVxuICAgICAgICBtaW51cyg1MDApXG4gICAgfVxuICAgIHByaW50bG4oXCJyZXN1bHQgOiAkcmVzdWx0XCIpXG59In0=" target="_blank" rel="noopener noreferrer">▶️ ce code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> montre un example.</p><p><a href="https://kotlinlang.org/docs/type-safe-builders.htmlhttps://kotlinlang.org/docs/type-safe-builders.html" target="_blank" rel="noopener noreferrer"><strong>Les Type-safe builders</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> combinent les monteurs bien nommées et les fonctions littérales avec récepteur pour créer des monteur avec un typage statique et sécurisé. La syntaxe particulière possible avec technique permet de définir une sorte de sous-langage aussi appelé DSL (domain specific language).</p><div class="custom-container tip"><p class="custom-container-title">Le pattern monteur (Builder)</p><p>Est une technique permettant <a href="https://refactoring.guru/design-patterns/builder" target="_blank" rel="noopener noreferrer">de construire des objects avec une syntaxe élégante<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token comment">// StirngBuilder uses the builder pattern</span>
<span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Temp&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;friend&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS43LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiY2xhc3MgTWlsa3tcbiAgICB2YXIgYnJhbmQ6IFN0cmluZyA9IFwiXCJcbiAgICB2YXIgcXVhbnRpdHk6IEludCA9IDBcbiAgICBmdW4gYnJhbmQoaGFuZGxlcjogTWlsay4oKS0+IFN0cmluZyl7XG4gICAgICAgIGJyYW5kID0gaGFuZGxlcigpXG4gICAgfVxuICAgIGZ1biBxdWFudGl0eShoYW5kbGVyOiBNaWxrLigpLT5JbnQpe1xuICAgICAgICBxdWFudGl0eSA9IGhhbmRsZXIoKVxuICAgIH1cbiAgICBvdmVycmlkZSBmdW4gdG9TdHJpbmcoKSA9IFwiJHF1YW50aXR5IEwgb2YgbWlsayBmcm9tICRicmFuZFwiXG59XG5cbi8vIHR5cGVzYWZlIGJ1aWxkZXIgZW50cnkgcG9pbnRcbmZ1biBwcm9kdWNlTWlsayhpbml0OiBNaWxrLigpIC0+IFVuaXQpOiBNaWxrIHtcbiAgICB2YWwgbWlsayA9IE1pbGsoKVxuICAgIG1pbGsuaW5pdCgpXG4gICAgcmV0dXJuIG1pbGtcbn1cblxuZnVuIG1haW4oKXtcbiAgICB2YWwgbWlsayA9IHByb2R1Y2VNaWxrIHtcbiAgICAgICAgYnJhbmQgeyBcIlN1cGVyIG1pbGtcIiB9XG4gICAgICAgIHF1YW50aXR5IHsgMTAwIH1cbiAgICB9XG4gICAgcHJpbnRsbihtaWxrKVxufSJ9" target="_blank" rel="noopener noreferrer">Ce code montre<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> un type-safe builder basique.</p><p><a href="https://kotlinlang.org/docs/type-safe-builders.html" target="_blank" rel="noopener noreferrer">Kotlin docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> fournit un exemple plus avancé d&#39;un monteur de documents HTML.</p><h2 id="exercises" tabindex="-1"><a class="header-anchor" href="#exercises" aria-hidden="true">#</a> Exercises</h2><h3 id="exercise-1" tabindex="-1"><a class="header-anchor" href="#exercise-1" aria-hidden="true">#</a> Exercise 1</h3><ol><li>open the <strong>java-integration-exercise</strong> projects in the <strong>materials</strong> folder.</li><li>Have a look at the Java class we provided you in the <code>src/main/java/com/worldline/learning/kotlin/java2kotlin</code> package. <em>(yes, that&#39;s the Pokemon class)</em></li><li>Convert that Java class in Kotlin using IntelliJ&#39;s awesome copy-pasta tool! <em>(just copy paste the java code in a kotlin file, one is provided at <code>src/main/kotlin/com/worldline/learning/kotlin/java2kotlin</code>)</em></li><li>Have a look at the generated Kotlin code, and note the major differences you spot!</li></ol></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: yassine.benabbas@worldline.com">Yassine Benabbas</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/learning-kotlin/fr/other-technologies/" class="" aria-label="Application multiplateforme et Fullstack Codelab (60min)"><!--[--><!--]--> Application multiplateforme et Fullstack Codelab (60min) <!--[--><!--]--></a></span><span class="next"><a href="/learning-kotlin/fr/workshops/" class="" aria-label="Workshops"><!--[--><!--]--> Workshops <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/learning-kotlin/assets/app-853dba77.js" defer></script>
  </body>
</html>
